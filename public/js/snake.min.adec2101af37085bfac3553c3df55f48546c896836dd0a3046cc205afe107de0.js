document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&setTimeout(initSnake,window.snakeDelay||2e3)});function initSnake(){document.documentElement.classList.add("snake-on");const i=document.createElement("div");i.id="snake-container",document.body.appendChild(i);const e={segmentCount:20,segmentDelay:80,updateInterval:200,borderMargin:20,characters:["~","=","s","~","S","="],headCharacter:">"},s=[],d=r(e.headCharacter);s.push(d);for(let t=1;t<e.segmentCount;t++){const n=Math.floor(Math.random()*e.characters.length),o=r(e.characters[n]);s.push(o)}let o=[];const l=e.borderMargin,c=e.borderMargin;for(let e=0;e<s.length;e++)o.push({x:l-e*20,y:c});let n=1,t=0;a();let h=0;setInterval(u,e.updateInterval);function r(e){const t=document.createElement("div");return t.className="snake-segment",t.textContent=e,i.appendChild(t),t}function a(){for(let e=0;e<s.length;e++){const t=o[e];t&&(s[e].style.left=`${t.x}px`,s[e].style.top=`${t.y}px`)}}function u(){const l=window.innerWidth-e.borderMargin,d=window.innerHeight-e.borderMargin,i=o[0];i.x>=l-20&&n>0?(n=0,t=1):i.y>=d-20&&t>0?(n=-1,t=0):i.x<=e.borderMargin&&n<0?(n=0,t=-1):i.y<=e.borderMargin&&t<0&&(n=1,t=0);const u={x:i.x+n*20,y:i.y+t*20},c=[u];for(let e=1;e<o.length;e++)c.push(o[e-1]);o=c,a();let r=0;n===1?r=0:t===1?r=90:n===-1?r=180:t===-1&&(r=270),s[0].style.transform=`rotate(${r}deg)`}}